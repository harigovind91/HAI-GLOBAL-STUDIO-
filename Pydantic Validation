from pydantic import BaseModel, Field

class SecureReq(BaseModel):
    category: str = Field(..., min_length=3)
    prompt: str = Field(..., max_length=1000)
    # हम यहाँ Master Key भी मांग सकते हैं
    auth_token: str 

@app.post("/generate_all")
def run(req: SecureReq):
    if req.auth_token != "HAI_GLOBAL_ADMIN_2026":
        return {"error": "Unauthorized Access"}
    return {"result": route(req.category, req.prompt)}
